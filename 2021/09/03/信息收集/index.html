<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>信息收集 | Cobra's blog</title><meta name="keywords" content="渗透测试"><meta name="author" content="Cobra"><meta name="copyright" content="Cobra"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="一、什么是信息收集信息收集就是尽可能的收集目标的信息，包括端口信息、DNS信息、IP信息等等都是信息收集。信息收集是渗透测试的最重要的阶段，根据收集的有用信息，可以大大提高渗透测试的成功率。 域名信息收集顶级域名&#x2F;一级域名：1顶级域（或顶级域名，也称为一级域名），是互联网DNS等级之中的最高级的域，它保存于DNS根域的名字空间中。顶级域名是域名的最后一个部分，即是域名最后一点之后的字母，">
<meta property="og:type" content="article">
<meta property="og:title" content="信息收集">
<meta property="og:url" content="http://chiza.gitee.io/2021/09/03/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/index.html">
<meta property="og:site_name" content="Cobra&#39;s blog">
<meta property="og:description" content="一、什么是信息收集信息收集就是尽可能的收集目标的信息，包括端口信息、DNS信息、IP信息等等都是信息收集。信息收集是渗透测试的最重要的阶段，根据收集的有用信息，可以大大提高渗透测试的成功率。 域名信息收集顶级域名&#x2F;一级域名：1顶级域（或顶级域名，也称为一级域名），是互联网DNS等级之中的最高级的域，它保存于DNS根域的名字空间中。顶级域名是域名的最后一个部分，即是域名最后一点之后的字母，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://img.chiza.xyz/x10.png">
<meta property="article:published_time" content="2021-09-03T08:34:30.000Z">
<meta property="article:modified_time" content="2022-06-24T08:56:20.946Z">
<meta property="article:author" content="Cobra">
<meta property="article:tag" content="渗透测试">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://img.chiza.xyz/x10.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://chiza.gitee.io/2021/09/03/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '信息收集',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-06-24 16:56:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="http://img.chiza.xyz/toux.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('http://img.chiza.xyz/x10.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Cobra's blog</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">信息收集</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-03T08:34:30.000Z" title="发表于 2021-09-03 16:34:30">2021-09-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-06-24T08:56:20.946Z" title="更新于 2022-06-24 16:56:20">2022-06-24</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>16分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="信息收集"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="一、什么是信息收集"><a href="#一、什么是信息收集" class="headerlink" title="一、什么是信息收集"></a>一、什么是信息收集</h2><p>信息收集就是尽可能的收集目标的信息，包括端口信息、DNS信息、IP信息等等都是信息收集。信息收集是渗透测试的最重要的阶段，根据收集的有用信息，可以大大提高渗透测试的成功率。</p>
<h3 id="域名信息收集"><a href="#域名信息收集" class="headerlink" title="域名信息收集"></a>域名信息收集</h3><h4 id="顶级域名-x2F-一级域名："><a href="#顶级域名-x2F-一级域名：" class="headerlink" title="顶级域名&#x2F;一级域名："></a>顶级域名&#x2F;一级域名：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">顶级域（或顶级域名，也称为一级域名），是互联网DNS等级之中的最高级的域，它保存于DNS根域的名字空间中。顶级域名是域名的最后一个部分，即是域名最后一点之后的字母，例如在http://www.example.com这个域名中，顶级域是.com。</span><br></pre></td></tr></table></figure>

<h4 id="二级域名："><a href="#二级域名：" class="headerlink" title="二级域名："></a>二级域名：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">除了顶级域名，还有二级域名，就是最靠近顶级域名左侧的字段。例如在http://www.example.com这个域名中，example就是二级域名。</span><br></pre></td></tr></table></figure>

<h4 id="子域名："><a href="#子域名：" class="headerlink" title="子域名："></a>子域名：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">子域名（Subdomain）是在域名系统等级中，属于更高一层域的域。比如，mail.example.com和calendar.example.com是example.com的两个子域，而example.com则是顶级域.com的子域。凡顶级域名前加前缀的都是该顶级域名的子域名，而子域名根据技术的多少分为二级子域名，三级子域名以及多级子域名。</span><br></pre></td></tr></table></figure>

<h2 id="Whois-查询"><a href="#Whois-查询" class="headerlink" title="Whois 查询"></a>Whois 查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whois 是用来查询域名的IP以及所有者等信息的传输协议。简单说，whois就是一个用来查询域名是否已经被注册，以及注册域名的详细信息的数据库（如域名所有人、域名注册商），不同域名后缀的Whois信息需要到不同的Whois数据库查询。通过whois来实现对域名信息的查询，可以得到注册人的姓名和邮箱信息通常对测试个人站点非常有用，因为我们可以通过搜索引擎和社交网络挖掘出域名所有人的很多信息。</span><br></pre></td></tr></table></figure>

<h4 id="（1）在线查询"><a href="#（1）在线查询" class="headerlink" title="（1）在线查询"></a>（1）在线查询</h4><p>如今网上出现了一些网页接口简化的线上查询工具，可以一次向不同的数据库查询。网页接口的查询工具仍然依赖whois协议向服务器发送查询请求，命令列接口的工具仍然被系统管理员广泛使用。whois通常使用TCP协议43端口。每个域名&#x2F;IP的whois信息由对应的管理机构保存。</p>
<p>常见的网站包括：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Whois站长之家查询：http://whois.chinaz.com/</span><br><span class="line"></span><br><span class="line">阿里云中国万网查询：https://whois.aliyun.com/Whois </span><br><span class="line"></span><br><span class="line">Lookup 查找目标网站所有者的信息：http://whois.domaintools.com/Netcraft </span><br><span class="line"></span><br><span class="line">Site Report 显示目标网站上使用的技术：http://toolbar.netcraft.com/site_report?url=Robtex </span><br><span class="line"></span><br><span class="line">DNS 查询显示关于目标网站的全面的DNS信息：https://www.robtex.com/</span><br><span class="line"></span><br><span class="line">全球Whois查询：https://www.whois365.com/cn/</span><br><span class="line"></span><br><span class="line">站长工具爱站查询：https://whois.aizhan.com/</span><br></pre></td></tr></table></figure>

<p>示例：下面是使用站长之家Whois查询youku.com域名的相关信息：</p>
<p><img src="http://img.chiza.xyz/x.png"></p>
<h4 id="（2）使用kali中的whois工具查询"><a href="#（2）使用kali中的whois工具查询" class="headerlink" title="（2）使用kali中的whois工具查询"></a>（2）使用kali中的whois工具查询</h4><p>在Kali Linux下自带的Whois查询工具，通过命令Whois查询域名信息，只需输入要查询的域名即可，如下图所示。</p>
<p><img src="http://img.chiza.xyz/x1.png"></p>
<h2 id="备案信息查询"><a href="#备案信息查询" class="headerlink" title="备案信息查询"></a>备案信息查询</h2><p>网站备案信息是根据国家法律法规规定，由网站所有者向国家有关部门申请的备案，是国家信息产业部对网站的一种管理途径，是为了防止在网上从事非法网站经营活动，当然主要是针对国内网站。</p>
<p>在备案查询中我们主要关注的是：单位信息例如名称、备案编号、网站负责人、法人、电子邮箱、联系电话等。</p>
<p>常用的备案信息查询网站有以下几个：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ICP/IP地址/域名信息备案管理系统：http://beian.miit.gov.cn/publish/query/indexFirst.actionICP</span><br><span class="line"></span><br><span class="line">备案查询网：http://www.beianbeian.com/</span><br><span class="line"></span><br><span class="line">备案吧吧：https://www.beian88.com/</span><br><span class="line"></span><br><span class="line">天眼查：https://www.tianyancha.com/</span><br></pre></td></tr></table></figure>

<p><img src="http://img.chiza.xyz/x2.png"></p>
<h2 id="子域名信息收集"><a href="#子域名信息收集" class="headerlink" title="子域名信息收集"></a>子域名信息收集</h2><p>子域名收集可以发现更多渗透测试范围内的域名&#x2F;子域名，以增加漏洞发现机率；探测到更多隐藏或遗忘的应用服务，这些应用往往可导致一些严重漏洞。 </p>
<p>常用的工具有：子域名挖掘机Layer、subDomainsBrute、Dnsenum、Dnsmap …</p>
<p>收集子域名的方法有以下几种：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">利用在线工具查询子域名爆破：https://phpinfo.me/domain/</span><br><span class="line"></span><br><span class="line">子域名爆破：https://phpinfo.me/domain/</span><br><span class="line"></span><br><span class="line">IP反查绑定域名：http://dns.aizhan.com/</span><br><span class="line"></span><br><span class="line">https://site.ip138.com</span><br></pre></td></tr></table></figure>

<p>利用工具枚举子域名</p>
<p>kali上的工具在kali中的信息收集模块的DNS分析中，有很多工具可以进行域名信息收集。</p>
<p><img src="http://img.chiza.xyz/x3.png"></p>
<h2 id="站点信息收集"><a href="#站点信息收集" class="headerlink" title="站点信息收集"></a>站点信息收集</h2><p>接下来我们进行web网站站点信息收集，主要收集如下信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">CMS指纹识别</span><br><span class="line"></span><br><span class="line">历史漏洞</span><br><span class="line"></span><br><span class="line">脚本语言敏感目录/文件</span><br><span class="line"></span><br><span class="line">Waf识别</span><br><span class="line"></span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>CMS指纹识别CMS（内容管理系统）又称为整站系统或文章系统，用于网站内容管理。用户只需要下载对应的CMS软件包，就能部署搭建，并直接利用CMS。但是各种CMS都具有其独特的结构命名规则和特定的文件内容，因此可以利用这些内容来获取CMS站点的具体软件CMS与版本。</p>
<p>在渗透测试中，对进行指纹识别是相当有必要的，识别出相应的CMS，才能查找与其相关的漏洞，然后才能进行相应的渗透操作。</p>
<p>常见的CMS有Dedecms(织梦)、Discuz、PHPWEB、PHPWind、PHPCMS、ECShop、Dvbbs、SiteWeaver、ASPCMS、帝国、Z-Blog、WordPress等。</p>
<p>首先要知道的一点，并不是所有网站都用了CMS，所以这一块在信息收集中起的是一个辅助作用，能收集到信息最好，收不到也无所谓。</p>
<h4 id="（1）在线识别"><a href="#（1）在线识别" class="headerlink" title="（1）在线识别"></a>（1）在线识别</h4><p>如今，网上一些在线的网站查询CMS指纹识别，如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">BugScaner: http://whatweb.bugscaner.com/look/</span><br><span class="line"></span><br><span class="line">潮汐指纹：http://finger.tidesec.net/</span><br><span class="line"></span><br><span class="line">云悉：http://www.yunsee.cn/info.html</span><br><span class="line"></span><br><span class="line">WhatWeb: https://whatweb.net/</span><br></pre></td></tr></table></figure>

<h4 id="（2）利用工具识别"><a href="#（2）利用工具识别" class="headerlink" title="（2）利用工具识别"></a>（2）利用工具识别</h4><p>常见的CMS指纹识别工具有WhatWeb、WebRobo、椰树、御剑Web指纹识别等，可以快速识别一些主流CMS。</p>
<p>例如，我们利用kali上的WhatWeb工具识别目标站点的cms：</p>
<p><img src="http://img.chiza.xyz/x4.png"></p>
<p>如上图，WhatWeb将目标站点的服务器、中间节、cms等都识别了出来。当我们得知了一个站点的cms类型后，我们可以在网上查找与其相关的漏洞并进行相应的测试。</p>
<p>（3）火狐插件wappalyzer 它是一款能够分析目标网站所采用的平台构架、网站环境、服务器配置环境、JavaScript框架、编程语言等参数的chrome网站技术分析插件。</p>
<p><img src="http://img.chiza.xyz/x5.png"></p>
<h2 id="服务器信息收集"><a href="#服务器信息收集" class="headerlink" title="服务器信息收集"></a>服务器信息收集</h2><p>服务器信息包括服务器用的操作系统：Linux 还是 Windows 。</p>
<p>知道了服务器的操作系统之后，还需要知道操作系统使用的具体版本。 因为很多低版本的操作系统都存在已知的漏洞。</p>
<p>操作系统判断方法:</p>
<p>1、大小写 Windows操作系统不区分大小写，Linux系统大小写敏感，用此方法能够判断是Windows还是Linux系统。</p>
<p>2、ping 判断是Linux还是Windows最简单就是通过ping来探测，Windows的TTL值都是一般是128，Linux则是64。 所以大于100的是Windows，而几十的则是Linux。</p>
<p>但是，通过TTL值来判断服务器类型也不是百分之百准确的，有些windows服务器的TTL值也是几十，而且有的服务器禁止ping。</p>
<h2 id="中间件信息收集"><a href="#中间件信息收集" class="headerlink" title="中间件信息收集"></a>中间件信息收集</h2><p>我们可以收集网站用的web服务器是什么类型的：Apache、Nginx、Tomcat 还是 IIS。 知道了web服务器是哪种类型后，我们还需要探测web服务器具体的版本。 比如Ngnix版本&lt;0.83会有解析漏洞 ，IIS6.0会有文件名解析漏洞、IIS7.0会有畸形解析漏洞等。 不同的web服务器版本，存在着不同漏洞。</p>
<h2 id="敏感目录-x2F-文件收集"><a href="#敏感目录-x2F-文件收集" class="headerlink" title="敏感目录&#x2F;文件收集"></a>敏感目录&#x2F;文件收集</h2><p>在web渗透中，探测Web目录结构和隐藏的敏感文件是一个十分重要的环节，从中可以获取网站的后台管理页面、文件上传界面、robots.txt，甚至可能扫描出备份文件从而得到网站的源代码。</p>
<p>常见的网站目录的扫描工具主要有：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">御剑后台扫描工具</span><br><span class="line"></span><br><span class="line">dirbuster扫描工具</span><br><span class="line"></span><br><span class="line">dirsearch扫描工具</span><br><span class="line"></span><br><span class="line">dirbwwwscan</span><br><span class="line"></span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>例如：</p>
<p><img src="http://img.chiza.xyz/x6.png"></p>
<h2 id="Waf识别"><a href="#Waf识别" class="headerlink" title="Waf识别"></a>Waf识别</h2><p>Web应用防护系统（Web Application Firewall）。利用国际上公认的一种说法：Web应用防火墙是通过执行一系列针对HTTP&#x2F;HTTPS的安全策略来专门为Web应用提供保护的一款产品。</p>
<h3 id="Waf识别工具"><a href="#Waf识别工具" class="headerlink" title="Waf识别工具"></a>Waf识别工具</h3><p>wafw00f是一个Web应用防火墙（WAF）指纹识别的工具。</p>
<p>wafw00f的工作原理：</p>
<ol>
<li>发送正常的HTTP请求，然后分析响应，这可以识别出很多WAF。</li>
<li>如果不成功，它会发送一些（可能是恶意的）HTTP请求，使用简单的逻辑推断是哪一个WAF</li>
<li>如果这也不成功，它会分析之前返回的响应，使用其它简单的算法猜测是否有某个WAF或者安全解决方案响应了我们的攻击。<br>kali上内置了该工具：<br><img src="http://img.chiza.xyz/x7.png"><br>wafw00f支持非常多的WAF识别。要查看它能够检测到哪些WAF，请使用-l 选项：<br><img src="http://img.chiza.xyz/x8.png"><br>简单使用如下：wafw00f <a target="_blank" rel="noopener" href="https://www.xxx.com/">https://www.xxx.com/</a><br><img src="http://img.chiza.xyz/x9.png"></li>
</ol>
<h2 id="敏感信息收集"><a href="#敏感信息收集" class="headerlink" title="敏感信息收集"></a>敏感信息收集</h2><p>1、Google hacking（谷歌黑语法）常用搜索语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">intext：寻找正文中含有关键字的网页</span><br><span class="line">intitle：寻找标题中含有关键字的网页</span><br><span class="line">allintitle：用法和intitle类似，只不过可以指定多个词</span><br><span class="line">inurl：搜索url中含有关键词的网页</span><br><span class="line">allinurl：用法和inurl类似，只不过可以指定多个词</span><br><span class="line">site：指定访问的站点</span><br><span class="line">filetype：指定访问的文件类型</span><br><span class="line">link：指定链接的网页related：搜索相似类型的网页</span><br><span class="line">info：返回站点的指定信息，例如：info:www.baidu.com   将返回百度的一些信息</span><br><span class="line">phonebook：电话簿查询美国街道地址和电话号码信息</span><br><span class="line">Index of：利用 Index of 语法可以发现允许目录浏览的web网站，就像在本地的普通目录一样</span><br></pre></td></tr></table></figure>
<p>2、FOFA<br>FOFA可以搜索网络组件，例如地区，端口号，网络服务，操作系统，网络协议等包括各种开发框架、安全监测平台、项目管理系统、企业管理系统、视频监控系统、站长平台、电商系统、广告联盟、前端库、路由器、SSL证书、服务器管理系统、CDN、Web服务器、WAF、CMS等。还可以绕过cdn找真实IP，如果知道一个有cdn防护的域名，在fofa上可以直接找到它的真实IP，在FOFA上搜索到了该域名的相关信息，并且可以找到真实IP的信息，还有找摄像头，矿机等等。<br><img src="http://img.chiza.xyz/x10.png"><br>3、Zoomeye（钟馗之眼）ZoomEye是一款针对网络空间的搜索引擎，收录了互联网空间中的设备、网站及其使用的服务或组件等信息。<br><img src="http://img.chiza.xyz/x11.png"><br>搜索语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">app:nginx　　组件名</span><br><span class="line">ver:1.0　　版本</span><br><span class="line">os:windows　　操作系统</span><br><span class="line">country:”China”　　国家</span><br><span class="line">city:”hangzhou”　　城市</span><br><span class="line">port:80　　端口</span><br><span class="line">hostname:google　　主机名</span><br><span class="line">site:thief.one　　网站域名</span><br><span class="line">desc:nmask　　描述</span><br><span class="line">keywords:nmask’blog　　关键词</span><br><span class="line">service:ftp　　服务类型</span><br><span class="line">ip:8.8.8.8　　ip地址</span><br><span class="line">cidr:8.8.8.8/24　　ip地址段</span><br></pre></td></tr></table></figure>
<h2 id="端口信息收集"><a href="#端口信息收集" class="headerlink" title="端口信息收集"></a>端口信息收集</h2><p>扫描端口可以使用Nmap，masscan进行扫描探测，尽可能多的搜集开启的端口好已经对应的服务版本，得到确切的服务版本后可以搜索有没有对应版本的漏洞。 常见的端口信息及渗透方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">tcp 20,21 FTP 允许匿名的上传下载,爆破,嗅探,win提权,远程执行(proftpd 1.3.5),各类后门(proftpd,vsftp 2.3.4)tcp 22 SSH 可根据已搜集到的信息尝试爆破,v1版本可中间人,ssh隧道及内网代理转发,文件传输等等</span><br><span class="line">tcp 23 Telnet 爆破,嗅探,一般常用于路由,交换登陆,可尝试弱口令tcp 25 SMTP 邮件伪造,vrfy/expn查询邮件用户信息,可使用smtp-user-enum工具来自动跑</span><br><span class="line">tcp/udp 53 DNS 允许区域传送,dns劫持,缓存投毒,欺骗以及各种基于dns隧道的远控</span><br><span class="line">tcp/udp 69 TFTP 尝试下载目标及其的各类重要配置文件</span><br><span class="line">tcp 80-89,443,8440-8450,8080-8089 各种常用的Web服务端口 可尝试经典的topn,vpn,owa,webmail,目标oa,各类Java控制台,各类服务器Web管理面板,各类Web中间件漏洞利用,各类Web框架漏洞利用等等……</span><br><span class="line">tcp 110 POP3 可尝试爆破,嗅探</span><br><span class="line">tcp 111,2049 NFS 权限配置不当</span><br><span class="line">tcp 137,139,445 Samba 可尝试爆破以及smb自身的各种远程执行类漏洞利用,如,ms08-067,ms17-010,嗅探等……</span><br><span class="line">tcp 143 IMAP 可尝试爆破udp 161 SNMP 爆破默认团队字符串,搜集目标内网信息</span><br><span class="line">tcp 389 LDAP ldap注入,允许匿名访问,弱口令</span><br><span class="line">tcp 512,513,514 Linux rexec 可爆破,rlogin登陆</span><br><span class="line">tcp 873 Rsync 匿名访问,文件上传</span><br><span class="line">tcp 1194 OpenVPN 想办法钓VPN账号,进内网</span><br><span class="line">tcp 1352 Lotus 弱口令,信息泄漏,爆破</span><br><span class="line">tcp 1433 SQL Server 注入,提权,sa弱口令,爆破</span><br><span class="line">tcp 1521 Oracle tns爆破,注入,弹shell…</span><br><span class="line">tcp 1500 ISPmanager 弱口令</span><br><span class="line">tcp 1723 PPTP 爆破,想办法钓VPN账号,进内网</span><br><span class="line">tcp 2082,2083 cPanel 弱口令</span><br><span class="line">tcp 2181 ZooKeeper 未授权访问</span><br><span class="line">tcp 2601,2604 Zebra 默认密码zerbratcp 3128 Squid 弱口令</span><br><span class="line">tcp 3312,3311 kangle 弱口令</span><br><span class="line">tcp 3306 MySQL 注入,提权,爆破</span><br><span class="line">tcp 3389 Windows rdp shift后门[需要03以下的系统],爆破,ms12-020tcp 3690 SVN svn泄露,未授权访问</span><br><span class="line">tcp 4848 GlassFish 弱口令tcp 5000 Sybase/DB2 爆破,注入</span><br><span class="line">tcp 5432 PostgreSQL 爆破,注入,弱口令</span><br><span class="line">tcp 5900,5901,5902 VNC 弱口令爆破</span><br><span class="line">tcp 5984 CouchDB 未授权导致的任意指令执行</span><br><span class="line">tcp 6379 Redis 可尝试未授权访问,弱口令爆破</span><br><span class="line">tcp 7001,7002 WebLogic Java反序列化,弱口令</span><br><span class="line">tcp 7778 Kloxo 主机面板登录</span><br><span class="line">tcp 8000 Ajenti 弱口令</span><br><span class="line">tcp 8443 Plesk 弱口令</span><br><span class="line">tcp 8069 Zabbix 远程执行,SQL注入</span><br><span class="line">tcp 8080-8089 Jenkins,JBoss 反序列化,控制台弱口令</span><br><span class="line">tcp 9080-9081,9090 WebSphere Java反序列化/弱口令</span><br><span class="line">tcp 9200,9300 ElasticSearch 远程执行</span><br><span class="line">tcp 11211 Memcached 未授权访问</span><br><span class="line">tcp 27017,27018 MongoDB 爆破,未授权访问</span><br><span class="line">tcp 50070,50030 Hadoop 默认端口未授权访问</span><br></pre></td></tr></table></figure>
<h2 id="真实IP识别"><a href="#真实IP识别" class="headerlink" title="真实IP识别"></a>真实IP识别</h2><p>CDN的全称是Content Delivery Network，即内容分发网络。CDN是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。但在安全测试过程中，若目标存在CDN服务，将会影响到后续的安全测试过程。<br><img src="http://img.chiza.xyz/x12.jpg"></p>
<h3 id="如何判断目标网站是否使用了CDN-服务"><a href="#如何判断目标网站是否使用了CDN-服务" class="headerlink" title="如何判断目标网站是否使用了CDN 服务."></a>如何判断目标网站是否使用了CDN 服务.</h3><p>我们可以利用超级ping，ping这个网站域名，如果在每个地区ping的IP地址相同，则该服务器不存在CDN服务，如果在每个地区ping的IP地址不相同，则该服务器存在CDN服务<br>例如我们ping百度<br><img src="http://img.chiza.xyz/x13.png"><br>每个地区的IP地址不同，说明百度使用了CDN服务。</p>
<h2 id="CDN绕过技术"><a href="#CDN绕过技术" class="headerlink" title="CDN绕过技术"></a>CDN绕过技术</h2><p>1、子域名查找</p>
<p>很多时候，一些重要的站点会做CDN，而一些子域名站点并没有加入CDN，而且跟主站在同一个C段内，这时候，就可以通过查找子域名来查找网站的真实IP。<br>一些在线查询工具，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://tool.chinaz.com/subdomain/</span><br><span class="line">https://phpinfo.me/domain/</span><br><span class="line">http://searchdns.netcraft.com/</span><br></pre></td></tr></table></figure>
<p>为了方便用户访问，我们常常将<a target="_blank" rel="noopener" href="http://www.test.com/">www.test.com</a> 和 test.com 解析到同一个站点，而CDN只配置了<a target="_blank" rel="noopener" href="http://www.test.com,通过访问test.com,就可以绕过/">www.test.com，通过访问test.com，就可以绕过</a> CDN了.<br>2、邮件服务查询</p>
<p>比如说，邮箱注册，邮箱找回密码、RSS邮件订阅等功能场景，通过网站给自己发送邮件，从而让目标主动暴露他们的真实的IP，查看邮件头信息，获取到网站的真实IP。<br><img src="http://img.chiza.xyz/x14.png"><br>3、网络引擎搜索</p>
<p>通过关键字或网站域名，就可以找出被收录的IP，很多时候获取到的就是网站的真实IP。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">钟馗之眼：https://www.zoomeye.org</span><br><span class="line">Shodan：https://www.shodan.io</span><br><span class="line">Fofa：https://fofa.so</span><br></pre></td></tr></table></figure>
<p>4、国外主机解析域名</p>
<p>大部分 CDN 厂商因为各种原因只做了国内的线路，而针对国外的线路可能几乎没有，此时我们使用国外的DNS查询，很可能获取到真实IP。<br>5、扫描全网</p>
<p>通过Zmap、masscan等工具对整个互联网发起扫描，针对扫描结果进行关键字查找，获取网站真实IP。<br>(1)ZMap号称是最快的互联网扫描工具，能够在45分钟扫遍全网。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/zmap/zmap</span><br></pre></td></tr></table></figure>
<p>(2)Masscan号称是最快的互联网端口扫描器，最快可以在六分钟内扫遍互联网。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/robertdavidgraham/masscan</span><br></pre></td></tr></table></figure>
<p>6、DNS历史解析记录</p>
<p>查询域名的历史解析记录，可能会找到网站使用CDN前的解析记录，从而获取真实ip。<br>相关查询的网站有：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://viewdns.info/iphistory/</span><br><span class="line">https://sitereport.netcraft.com/?url=github.com</span><br></pre></td></tr></table></figure>
<p><img src="http://img.chiza.xyz/x15.png"><br>7、配置不当绕过</p>
<p>在配置CDN的时候，需要指定域名、端口等信息，有时候小小的配置细节就容易导致CDN防护被绕过。</p>
<p>案例1：为了方便用户访问，网站管理员常常将<a target="_blank" rel="noopener" href="http://www.test.com/">www.test.com</a> 和 test.com 解析到同一个站点，而CDN只配置了<a target="_blank" rel="noopener" href="http://www.test.com,通过访问test.com,就可以绕过cdn了./">www.test.com，通过访问test.com，就可以绕过CDN了。</a></p>
<p>案例2：站点同时支持http和https访问，CDN只配置 https协议，那么这时访问http就可以轻易绕过。</p>
<h2 id="数据库类型收集"><a href="#数据库类型收集" class="headerlink" title="数据库类型收集"></a>数据库类型收集</h2><p>几种常见数据库的区别：<br>1、Access小型数据库，当数据库达到100M左右的时候性能就会下降。数据库后缀名： .mdb一般是asp的网页文件用access数据库。<br>2、SQL Server是由Microsoft开发和推广的关系数据库管理系统（DBMS），是一个比较大型的数据库。端口号为1433。数据库后缀名 .mdf<br>3、MySQL 是一个关系型数据库管理系统，是最流行的关系型数据库管理系统，在WEB 应用方面MySQL是最好的应用软件之一，MySQL数据库大部分是php的页面。默认端口是3306<br>4、Oracle又名Oracle RDBMS，或简称Oracle。是甲骨文公司的一款关系数据库管理系统。常用于比较大的网站。默认端口是1521<br>常见搭配： </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ASP 和 ASPX：ACCESS、SQL Server </span><br><span class="line">PHP：MySQL、PostgreSQL </span><br><span class="line">JSP：Oracle、MySQL</span><br></pre></td></tr></table></figure>
<h2 id="互联网信息泄露收集"><a href="#互联网信息泄露收集" class="headerlink" title="互联网信息泄露收集"></a>互联网信息泄露收集</h2><p>1、GitHub敏感信息泄露<br>2、网盘、文库、贴吧等信息泄露<br><img src="http://img.chiza.xyz/x16.png"><br>3、乌云等平台历史漏洞信息及资产信息<br><img src="http://img.chiza.xyz/x17.png"></p>
<p>4、微博、论坛、QQ群等信息泄露</p>
<h2 id="社会工程学"><a href="#社会工程学" class="headerlink" title="社会工程学"></a>社会工程学</h2><p>社会工程学（Social Engineering）是一种通过人际交流的方式获得信息的非技术渗透手段。<br>社会工程学收集的常见信息包括：姓名、性别、出生日期、身份zheng号、身份zheng家庭住址、身份zheng所在公安局、快递收货地址、大致活动范围、qq、手机号、邮箱、银行card号（银行开户行）、支付宝、贴吧、百度、微博、微信、常用ID、学历（小&#x2F;初&#x2F;高&#x2F;大学&#x2F;履历）、目标性格详细分析、常用密码、照片等信息。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="http://chiza.gitee.io">Cobra</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://chiza.gitee.io/2021/09/03/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">http://chiza.gitee.io/2021/09/03/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://chiza.gitee.io" target="_blank">Cobra's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a></div><div class="post_share"><div class="social-share" data-image="http://img.chiza.xyz/x10.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-full"><a href="/2021/10/28/MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"><img class="prev-cover" src="http://img.chiza.xyz/image-20211028205015608.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">MySQL数据库的基本操作</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/03/28/PHP%E7%BB%95%E8%BF%87disable-function%E9%99%90%E5%88%B6/" title="PHP绕过disable_function限制"><img class="cover" src="http://img.chiza.xyz/image-20220328152836535.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-28</div><div class="title">PHP绕过disable_function限制</div></div></a></div><div><a href="/2022/05/04/php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E5%88%A9%E7%94%A8/" title="php伪协议利用"><img class="cover" src="http://img.chiza.xyz/image-20220417203358154.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-04</div><div class="title">php伪协议利用</div></div></a></div><div><a href="/2022/10/10/%E5%88%A9%E7%94%A8phpmyadmin%E8%BF%9B%E8%A1%8Cgetshell/" title="利用phpmyadmin进行getshell"><img class="cover" src="http://img.chiza.xyz/image-20220115103835559.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-10</div><div class="title">利用phpmyadmin进行getshell</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="http://img.chiza.xyz/toux.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Cobra</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.</span> <span class="toc-text">一、什么是信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.1.</span> <span class="toc-text">域名信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B6%E7%BA%A7%E5%9F%9F%E5%90%8D-x2F-%E4%B8%80%E7%BA%A7%E5%9F%9F%E5%90%8D%EF%BC%9A"><span class="toc-number">1.1.1.</span> <span class="toc-text">顶级域名&#x2F;一级域名：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E5%9F%9F%E5%90%8D%EF%BC%9A"><span class="toc-number">1.1.2.</span> <span class="toc-text">二级域名：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E5%9F%9F%E5%90%8D%EF%BC%9A"><span class="toc-number">1.1.3.</span> <span class="toc-text">子域名：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Whois-%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.</span> <span class="toc-text">Whois 查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%9C%A8%E7%BA%BF%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.0.1.</span> <span class="toc-text">（1）在线查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E4%BD%BF%E7%94%A8kali%E4%B8%AD%E7%9A%84whois%E5%B7%A5%E5%85%B7%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.0.2.</span> <span class="toc-text">（2）使用kali中的whois工具查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%87%E6%A1%88%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.</span> <span class="toc-text">备案信息查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">4.</span> <span class="toc-text">子域名信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%99%E7%82%B9%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">5.</span> <span class="toc-text">站点信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E5%9C%A8%E7%BA%BF%E8%AF%86%E5%88%AB"><span class="toc-number">5.0.1.</span> <span class="toc-text">（1）在线识别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%88%A9%E7%94%A8%E5%B7%A5%E5%85%B7%E8%AF%86%E5%88%AB"><span class="toc-number">5.0.2.</span> <span class="toc-text">（2）利用工具识别</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">6.</span> <span class="toc-text">服务器信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">7.</span> <span class="toc-text">中间件信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%8F%E6%84%9F%E7%9B%AE%E5%BD%95-x2F-%E6%96%87%E4%BB%B6%E6%94%B6%E9%9B%86"><span class="toc-number">8.</span> <span class="toc-text">敏感目录&#x2F;文件收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Waf%E8%AF%86%E5%88%AB"><span class="toc-number">9.</span> <span class="toc-text">Waf识别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Waf%E8%AF%86%E5%88%AB%E5%B7%A5%E5%85%B7"><span class="toc-number">9.1.</span> <span class="toc-text">Waf识别工具</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">10.</span> <span class="toc-text">敏感信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">11.</span> <span class="toc-text">端口信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9C%9F%E5%AE%9EIP%E8%AF%86%E5%88%AB"><span class="toc-number">12.</span> <span class="toc-text">真实IP识别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E7%9B%AE%E6%A0%87%E7%BD%91%E7%AB%99%E6%98%AF%E5%90%A6%E4%BD%BF%E7%94%A8%E4%BA%86CDN-%E6%9C%8D%E5%8A%A1"><span class="toc-number">12.1.</span> <span class="toc-text">如何判断目标网站是否使用了CDN 服务.</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CDN%E7%BB%95%E8%BF%87%E6%8A%80%E6%9C%AF"><span class="toc-number">13.</span> <span class="toc-text">CDN绕过技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B1%BB%E5%9E%8B%E6%94%B6%E9%9B%86"><span class="toc-number">14.</span> <span class="toc-text">数据库类型收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2%E6%94%B6%E9%9B%86"><span class="toc-number">15.</span> <span class="toc-text">互联网信息泄露收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BE%E4%BC%9A%E5%B7%A5%E7%A8%8B%E5%AD%A6"><span class="toc-number">16.</span> <span class="toc-text">社会工程学</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/02/05/%E5%8C%97%E4%BA%AC%E4%BA%9A%E9%B8%BF%E4%B8%96%E7%BA%AA%E7%A7%91%E6%8A%80%E5%8F%91%E5%B1%95%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%E4%BC%81%E4%B8%9A%E4%BE%A7%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%BC%E5%90%88%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0-JavaV1-0-0-0%E5%AD%98%E5%9C%A8%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" title="北京亚鸿世纪科技发展有限公司企业侧互联网综合管理平台 JavaV1.0.0.0存在命令执行漏洞"><img src="http://img.chiza.xyz/image-20230205194229151.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="北京亚鸿世纪科技发展有限公司企业侧互联网综合管理平台 JavaV1.0.0.0存在命令执行漏洞"/></a><div class="content"><a class="title" href="/2023/02/05/%E5%8C%97%E4%BA%AC%E4%BA%9A%E9%B8%BF%E4%B8%96%E7%BA%AA%E7%A7%91%E6%8A%80%E5%8F%91%E5%B1%95%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8%E4%BC%81%E4%B8%9A%E4%BE%A7%E4%BA%92%E8%81%94%E7%BD%91%E7%BB%BC%E5%90%88%E7%AE%A1%E7%90%86%E5%B9%B3%E5%8F%B0-JavaV1-0-0-0%E5%AD%98%E5%9C%A8%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/" title="北京亚鸿世纪科技发展有限公司企业侧互联网综合管理平台 JavaV1.0.0.0存在命令执行漏洞">北京亚鸿世纪科技发展有限公司企业侧互联网综合管理平台 JavaV1.0.0.0存在命令执行漏洞</a><time datetime="2023-02-05T11:56:08.000Z" title="发表于 2023-02-05 19:56:08">2023-02-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/12/Redteam2%E9%9D%B6%E5%9C%BA%EF%BC%88%E4%BB%8E%E5%A4%96%E7%BD%91%20log4j2%20RCE%20%E5%86%8D%E5%88%B0%E5%86%85%E7%BD%91%E6%8B%BF%E4%B8%8B%E5%9F%9F%E6%8E%A7%20%EF%BC%89/" title="Redteam2靶场（从外网 log4j2 RCE 再到内网拿下域控 ）"><img src="http://img.chiza.xyz/image-20221012182105986.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Redteam2靶场（从外网 log4j2 RCE 再到内网拿下域控 ）"/></a><div class="content"><a class="title" href="/2022/10/12/Redteam2%E9%9D%B6%E5%9C%BA%EF%BC%88%E4%BB%8E%E5%A4%96%E7%BD%91%20log4j2%20RCE%20%E5%86%8D%E5%88%B0%E5%86%85%E7%BD%91%E6%8B%BF%E4%B8%8B%E5%9F%9F%E6%8E%A7%20%EF%BC%89/" title="Redteam2靶场（从外网 log4j2 RCE 再到内网拿下域控 ）">Redteam2靶场（从外网 log4j2 RCE 再到内网拿下域控 ）</a><time datetime="2022-10-12T10:28:10.000Z" title="发表于 2022-10-12 18:28:10">2022-10-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/10/%E5%88%A9%E7%94%A8phpmyadmin%E8%BF%9B%E8%A1%8Cgetshell/" title="利用phpmyadmin进行getshell"><img src="http://img.chiza.xyz/image-20220115103835559.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="利用phpmyadmin进行getshell"/></a><div class="content"><a class="title" href="/2022/10/10/%E5%88%A9%E7%94%A8phpmyadmin%E8%BF%9B%E8%A1%8Cgetshell/" title="利用phpmyadmin进行getshell">利用phpmyadmin进行getshell</a><time datetime="2022-10-10T00:38:56.000Z" title="发表于 2022-10-10 08:38:56">2022-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/07/%E5%86%85%E7%BD%91%E6%AD%BB%E8%A7%92/" title="内网死角"><img src="http://img.chiza.xyz/image-20220912150613150.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="内网死角"/></a><div class="content"><a class="title" href="/2022/10/07/%E5%86%85%E7%BD%91%E6%AD%BB%E8%A7%92/" title="内网死角">内网死角</a><time datetime="2022-10-07T15:26:14.000Z" title="发表于 2022-10-07 23:26:14">2022-10-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/04/php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E5%88%A9%E7%94%A8/" title="php伪协议利用"><img src="http://img.chiza.xyz/image-20220417203358154.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="php伪协议利用"/></a><div class="content"><a class="title" href="/2022/05/04/php%E4%BC%AA%E5%8D%8F%E8%AE%AE%E5%88%A9%E7%94%A8/" title="php伪协议利用">php伪协议利用</a><time datetime="2022-05-04T08:23:09.000Z" title="发表于 2022-05-04 16:23:09">2022-05-04</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('http://img.chiza.xyz/x10.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Cobra</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>